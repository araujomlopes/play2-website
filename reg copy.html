<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Regulamento – Mundialito FILIA 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

/* ===============================
   UEFA-STYLE REGULAMENTO
   =============================== */

:root{
  --uefa-blue:#0a1f44;
  --uefa-blue-light:#1f4fb2;
  --uefa-gray:#6b7280;
  --uefa-border:#e5e7eb;
  --bg-soft:#f8fafc;
}

*{
  box-sizing:border-box;
}

body{
  margin:0;
  font-family: "Inter", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background:#fff;
  color:#111827;
  line-height:1.6;
  font-size:15px;
}

/* ================= HEADER ================= */

header{
  background:linear-gradient(135deg, var(--uefa-blue), #06162f);
  color:#fff;
  padding:32px 20px;
  text-align:center;
}

header h1{
  margin:0;
  font-size:28px;
  font-weight:700;
  letter-spacing:.3px;
}

header p{
  margin-top:6px;
  font-size:13px;
  color:#d1d5db;
}

/* ================= MAIN ================= */

main{
  max-width:960px;
  margin:50px auto;
  padding:0 24px;
}

/* ================= SEÇÕES ================= */

section{
  margin-bottom:64px;
}

section > h2{
  font-size:22px;
  font-weight:700;
  color:var(--uefa-blue);
  margin-bottom:24px;
  padding-bottom:10px;
  border-bottom:3px solid var(--uefa-blue);
  letter-spacing:.3px;
}

/* ================= CAPÍTULOS ================= */

#regulamento h3{
  margin-top:40px;
  margin-bottom:16px;
  font-size:18px;
  font-weight:700;
  color:#111827;
}

/* ================= ARTIGOS ================= */

.article{
  padding-left:12px;
  border-left:3px solid var(--uefa-border);
}

.article p{
  margin:10px 0;
  text-align:justify;
}

/* Número do artigo */
.article .num{
  display:inline-block;
  min-width:70px;
  font-weight:700;
  color:var(--uefa-blue);
}

/* ================= TABLES ================= */

table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  border:1px solid var(--uefa-border);
}

th{
  background:var(--bg-soft);
  color:#111827;
  font-size:13px;
  text-transform:uppercase;
  letter-spacing:.05em;
  border-bottom:2px solid var(--uefa-border);
}

th, td{
  padding:12px 14px;
  border-bottom:1px solid var(--uefa-border);
  font-size:14px;
}

td:last-child{
  text-align:right;
  font-weight:600;
}

/* ================= LISTAS ================= */

ul{
  list-style:none;
  padding:0;
}

ul li{
  padding:10px 14px;
  margin-bottom:8px;
  border:1px solid var(--uefa-border);
  border-left:4px solid var(--uefa-blue);
  background:#fff;
  font-size:14px;
}

/* ================= MOBILE ================= */

@media(max-width:600px){
  header h1{
    font-size:22px;
  }

  section > h2{
    font-size:18px;
  }
}

</style>
</head>

<body>

<header>
  <h1 id="competition-name"></h1>
  <p id="competition-meta"></p>
</header>

<main>

<section id="regulamento">
  <h2>Regulamento</h2>
</section>

<section>
  <h2>Disciplina</h2>
  <table id="disciplina"></table>
</section>

<section>
  <h2>Fases da Competição</h2>
  <ul id="fases"></ul>
</section>

<section>
  <h2>Financeiro</h2>
  <table id="financeiro"></table>
</section>

<section>
  <h2>Jornadas Planeadas</h2>
  <ul id="jornadas"></ul>
</section>

</main>

<script>
/* =========================
   CSV URLs
   ========================= */
const URLS = {
  metadados: '',
  capitulos: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=693973353&single=true&output=csv',
  regulamento: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=912456961&single=true&output=csv',
  disciplina: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=1931195741&single=true&output=csv',
  fases: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=633641637&single=true&output=csv',
  financeiro: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=524853342&single=true&output=csv',
  jornadas: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=145845616&single=true&output=csv'
};

/* =========================
   FETCH CSV
   ========================= */
async function fetchCSV(url){
  const res = await fetch(url);
  const text = await res.text();
  const [header, ...rows] = text.trim().split('\n');
  const keys = header.split(',');

  return rows.map(r=>{
    const values = r.split(',');
    return Object.fromEntries(keys.map((k,i)=>[k,values[i]]));
  });
}

/* =========================
   METADATA
   ========================= */
async function carregarMetadados(){
  if(!URLS.metadados) return;
  const data = await fetchCSV(URLS.metadados);
  const meta = {};
  data.forEach(r=>meta[r.chave]=r.valor);

  document.getElementById('competition-name').textContent = meta.nome_competicao || '';
  document.getElementById('competition-meta').textContent =
    `${meta.organizacao || ''} · Época ${meta.epoca || ''}`;
}

/* =========================
   REGULAMENTO
   ========================= */
async function carregarRegulamento(){
  const capitulos = await fetchCSV(URLS.capitulos);
  const regras = await fetchCSV(URLS.regulamento);
  const container = document.getElementById('regulamento');

  capitulos
    .sort((a,b)=>a.ordem-b.ordem)
    .forEach(cap=>{
      const h3=document.createElement('h3');
      h3.textContent=cap.titulo;
      container.appendChild(h3);

      const bloco=document.createElement('div');
      bloco.className='article';

      regras
        .filter(r=>r.chapter_id===cap.chapter_id)
        .forEach(r=>{
          const p=document.createElement('p');
          p.innerHTML=`
            <span class="num">${r.item_number}</span>
            <span class="text">${r.item_text}</span>
          `;
          bloco.appendChild(p);
        });

      container.appendChild(bloco);
    });
}

/* =========================
   DISCIPLINA
   ========================= */
async function carregarDisciplina(){
  const data=await fetchCSV(URLS.disciplina);
  const table=document.getElementById('disciplina');

  table.innerHTML=`
    <tr><th>Tipo</th><th>Descrição</th><th>Valor (MT)</th></tr>
  `;

  data.forEach(r=>{
    table.innerHTML+=`
      <tr><td>${r.tipo}</td><td>${r.descricao}</td><td>${r.valor_mt}</td></tr>
    `;
  });
}

/* =========================
   FASES
   ========================= */
async function carregarFases(){
  const data=await fetchCSV(URLS.fases);
  const ul=document.getElementById('fases');

  data.sort((a,b)=>a.ordem-b.ordem).forEach(r=>{
    const li=document.createElement('li');
    li.textContent=`${r.nome} (${r.tipo})`;
    ul.appendChild(li);
  });
}

/* =========================
   FINANCEIRO
   ========================= */
async function carregarFinanceiro(){
  const data=await fetchCSV(URLS.financeiro);
  const table=document.getElementById('financeiro');

  table.innerHTML=`
    <tr><th>Categoria</th><th>Descrição</th><th>Valor (MT)</th></tr>
  `;

  data.forEach(r=>{
    table.innerHTML+=`
      <tr><td>${r.categoria}</td><td>${r.descricao}</td><td>${r.valor_mt}</td></tr>
    `;
  });
}

/* =========================
   JORNADAS
   ========================= */
async function carregarJornadas(){
  const data=await fetchCSV(URLS.jornadas);
  const ul=document.getElementById('jornadas');

  data.forEach(r=>{
    const li=document.createElement('li');
    li.textContent=`${r.fase} – Jornada ${r.jornada}: ${r.descricao}`;
    ul.appendChild(li);
  });
}

/* =========================
   INIT
   ========================= */
(async()=>{
  await carregarMetadados();
  await carregarRegulamento();
  await carregarDisciplina();
  await carregarFases();
  await carregarFinanceiro();
  await carregarJornadas();
})();
</script>

</body>
</html>
