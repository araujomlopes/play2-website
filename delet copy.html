<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fan Privacy Policy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  
  color:#111;
  font-family: Arial, Helvetica, sans-serif;
}

.policy-container{
  max-width:620px;
  margin:70px auto;
  padding:0 20px;
}

h1{
  font-size:42px;
  font-weight:800;
  margin-bottom:10px;
}

h2{
  font-size:26px;
  font-weight:700;
  margin:45px 0 15px;
}

.meta{
  font-size:14px;
  color:#666;
  margin-bottom:35px;
}

p{
  font-size:16px;
  line-height:1.65;
  margin-bottom:18px;
}

/* LISTAS – ALINHAMENTO PROFISSIONAL */
ul, ol {
  margin: 10px 0 20px 0;
  padding-left: 20px;
}

li {
  margin-bottom: 4px;
  line-height: 1.5;
}

/* sub-listas: recuo mínimo */
li > ul,
li > ol {
  margin-top: 5px;
  margin-left: 0;
  padding-left: 18px;
}

a{
  color:#c00;
  text-decoration:none;
}

a:hover{
  text-decoration:underline;
}

.alineas {
  margin: 10px 0 20px 0;
  padding-left: 0;
  list-style: none;
}

.alineas li {
  position: relative;
  padding-left: 24px;
  margin-bottom: 8px;
  line-height: 1.5;
}

.alineas li::before {
  content: attr(data-letter) ")";
  position: absolute;
  left: 0;
  font-weight: 600;
}

h1 { margin-bottom: 15px; line-height: 1.2; }
h2 { margin-top: 35px; margin-bottom: 12px; line-height: 1.3; }

h1 {
  font-size: 34px;
  line-height: 1.2;
  margin-bottom: 20px;
}

h2 {
  font-size: 18px;
  font-weight: 700;
  line-height: 1.35;
  margin-top: 28px;
  margin-bottom: 10px;
}

p {
  line-height: 1.6;
  margin-bottom: 14px;
}

ul {
  padding-left: 18px;
  margin: 10px 0 20px;
}

li {
  line-height: 1.5;
  margin-bottom: 8px;
}

.red-underline {
  text-decoration: underline;
  text-decoration-color: #c1121f;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
  font-weight: 500;
}

/* ===============================
   RESPONSIVE
   =============================== */
@media (max-width: 768px) {
  #policy {
    margin: 40px auto;
    padding: 0 16px;
  }

  h1 {
    font-size: 30px;
  }

  h2 {
    font-size: 16px;
  }
}
</style>
</head>

<body>
<main class="policy-container" id="policy"></main>

<script>
const SHEET_CSV_URL =
  "https://docs.google.com/spreadsheets/d/e/2PACX-1vTMKb7nNRenJu0293ElDZ7UYSe0bq-GVqU51hPjnheB1E7gD14KXvzwdGdn2VRlQ3vW_ev3nfxXL_4t/pub?gid=663120966&single=true&output=csv";

fetch(SHEET_CSV_URL)
  .then(res => res.text())
  .then(csv => {
    const text = csv
      .replace(/^"|"$/g, "")
      .replace(/""/g, '"');

    const lines = text.split("\n");
    const container = document.getElementById("policy");
    container.innerHTML = "";

    let ul = null;
    let titleUsed = false;

    function formatSpecialText(str) {
      return str
        .replace(/\[\[(.*?)\]\]/g, '<span class="red-underline">$1</span>') // sublinhado vermelho
        .replace(/\*(.*?)\*/g, '<i>$1</i>'); // itálico
    }

    function capitalizeFirstLetter(str) {
      return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
    }

    lines.forEach(line => {
      const l = line.trim();
      if (!l) return;

      const isList =
        /^[•\-–—]\s+/.test(l) ||
        /^\d+[\.\)]\s+/.test(l);

      if (isList) {
        if (!ul) {
          ul = document.createElement("ul");
          container.appendChild(ul);
        }

        const li = document.createElement("li");
        li.innerHTML = formatSpecialText(
          l.replace(/^[•\-–—]\s+|\d+[\.\)]\s+/, "")
        );
        ul.appendChild(li);
        return;
      }

      ul = null;

      if (l.startsWith("Last Updated")) {
        const p = document.createElement("p");
        p.className = "meta";
        p.textContent = l;
        container.appendChild(p);
        return;
      }

      if (l === l.toUpperCase() && !titleUsed) {
        const h1 = document.createElement("h1");
        h1.textContent = capitalizeFirstLetter(l);
        container.appendChild(h1);
        titleUsed = true;
        return;
      }

      if (l === l.toUpperCase() && titleUsed) {
        const h2 = document.createElement("h2");
        h2.textContent = capitalizeFirstLetter(l);
        container.appendChild(h2);
        return;
      }

      const p = document.createElement("p");
      p.innerHTML = formatSpecialText(l);
      container.appendChild(p);
    });
  })
  .catch(err => {
    document.getElementById("policy").innerHTML =
      "<p>Erro ao carregar o conteúdo.</p>";
    console.error(err);
  });
</script>
</body>
</html>
